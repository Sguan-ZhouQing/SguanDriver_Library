# SguanDriver_Library

## 项目简介

**SguanDriver_Library** 是一个模块化、硬件无关的驱动程序库，专为 C 语言微控制器开发而设计。该库提供了一个综合的驱动程序集合，为常见的电子模块提供了结构良好、易于移植的实现方案。

**作者**: 星必尘Sguan  
**邮箱**: 3464647102@qq.com  
**开源协议**: MIT License

## 核心特性

### 🏗️ 硬件抽象层 (HAL) 架构
库的核心优势在于其硬件抽象层架构，允许您通过标准化的 `UserSet.h` 配置模式，轻松地将驱动程序适配到不同的微控制器平台。这意味着您只需修改配置即可将驱动移植到新的 MCU，而无需修改核心功能代码。

### 🔌 架构与设计理念
该库遵循清晰的分离原则，将每个驱动程序模块分为两个不同的层：

1. **硬件抽象层 (HAL)** - 处理所有平台特定的细节
2. **核心功能层** - 提供一致的应用程序编程接口 (API)

这种架构设计在不同微控制器系列之间实现了最大的可移植性，同时保持了一致的应用层 API。

### 📁 模块化组织
该仓库包含数十个模块化驱动组件，每个组件都位于自己编号的目录中，便于浏览和使用。每个模块都遵循一致的结构：
- `UserSet.h` - 硬件配置文件
- 实现文件 (`.c`/`.h`)
- 模块特定的配置文件
- 包含使用说明的 `readme.txt`

## 硬件抽象层 (HAL) 详解

### UserSet.h 配置模式
`UserSet.h` 文件充当目标硬件与库核心功能之间的桥梁。每个模块目录都包含自己的 `UserSet.h`，您可以在其中配置三个基本方面：

1. **MCU 驱动头文件** - 如 `stm32f4xx_hal.h`
2. **GPIO 引脚定义** - 使用 `#define` 宏进行端口/引脚分配
3. **硬件特定函数实现** - 用于通信协议的硬件相关函数

例如，在 nRF24L01 模块中，您需要实现：
- `GPIO_CE_SetBits()`
- `SPI_SwapData()`

这些函数抽象了底层的 HAL 调用，使您的应用程序代码仅通过标准化的 API 与核心驱动层交互，完全与硬件特定的实现隔离。

## 驱动模块分类

| 类别 | 模块 | 通信类型 |
|------|------|----------|
| **显示驱动** | 0.96 英寸 OLED, 3.5 英寸 TFT | I2C, SPI, GPIO |
| **无线通信** | nRF24L01, ESP32 | SPI, UART (AT 指令) |
| **传感器与测量** | MPU6050, AHT20, HC-SR04, OV2640 | GPIO, I2C, DCMI |
| **磁性编码器** | AS5600, MT6701, ABZ 编码器 | I2C, PWM, SPI, 编码器接口 |
| **电机控制** | PID, SVPWM | 纯算法 |
| **信号处理** | 滤波器集锦, 快速三角函数 | 纯算法 |
| **实用工具** | Printf, PCA9685, Button | UART, I2C, GPIO |

## 使用示例

### 配置步骤
1. 选择要使用的驱动模块
2. 复制对应的模块目录到您的项目中
3. 修改 `UserSet.h` 文件以适配您的硬件
4. 在应用程序中调用模块提供的 API 函数

### 代码示例
```c
// 在您的应用程序中
#include "OLED/oled_driver.h"

// 初始化显示
OLED_Init();

// 显示文本
OLED_ShowString(0, 0, "Hello, World!");
```

## 移植指南

要将驱动程序移植到新的 MCU 平台，只需：
1. 实现 `UserSet.h` 中定义的所有硬件抽象函数
2. 配置正确的引脚定义和时钟设置
3. 无需修改任何核心驱动代码

## 项目结构
```
SguanDriver_Library/
├── 01_OLED_096/           # 0.96英寸OLED驱动
│   ├── UserSet.h
│   ├── oled_driver.c
│   ├── oled_driver.h
│   └── readme.txt
├── 02_nRF24L01/          # nRF24L01无线模块驱动
│   ├── UserSet.h
│   ├── nrf24l01.c
│   ├── nrf24l01.h
│   └── readme.txt
├── 03_MPU6050/           # MPU6050传感器驱动
│   ├── UserSet.h
│   ├── mpu6050.c
│   ├── mpu6050.h
│   └── readme.txt
└── ...                  # 更多驱动模块
```

## 贡献指南
欢迎提交 Issue 和 Pull Request 来帮助改进这个项目。请确保您的代码遵循现有的代码风格和架构设计。

## 许可证
本项目采用 MIT 开源许可证。详情请参阅 LICENSE 文件。

## 支持与联系
如果您在使用过程中遇到任何问题，或有任何建议，请通过以下方式联系：
- 邮箱: 3464647102@qq.com
- GitHub Issues

---

感谢您使用 SguanDriver_Library！希望这个库能简化您的嵌入式开发工作流程。
